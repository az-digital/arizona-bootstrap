{"version":3,"file":"offcanvas.js","sources":["../src/offcanvas.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport Backdrop from './util/backdrop.js'\nimport { enableDismissTrigger } from './util/component-functions.js'\nimport FocusTrap from './util/focustrap.js'\nimport {\n  defineJQueryPlugin,\n  isDisabled,\n  isVisible\n} from './util/index.js'\nimport ScrollBarHelper from './util/scrollbar.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'offcanvas'\nconst DATA_KEY = 'bs.offcanvas'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY}${DATA_API_KEY}`\nconst ESCAPE_KEY = 'Escape'\n\nconst CLASS_NAME_SHOW = 'show'\nconst CLASS_NAME_SHOWING = 'showing'\nconst CLASS_NAME_HIDING = 'hiding'\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop'\nconst OPEN_SELECTOR = '.offcanvas.show'\n\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_RESIZE = `resize${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY}`\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"offcanvas\"]'\n\nconst Default = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n}\n\nconst DefaultType = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n}\n\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config)\n\n    this._isShown = false\n    this._backdrop = this._initializeBackDrop()\n    this._focustrap = this._initializeFocusTrap()\n    this._addEventListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget)\n  }\n\n  show(relatedTarget) {\n    if (this._isShown) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, { relatedTarget })\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._isShown = true\n    this._backdrop.show()\n\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide()\n    }\n\n    this._element.setAttribute('aria-modal', true)\n    this._element.setAttribute('role', 'dialog')\n    this._element.classList.add(CLASS_NAME_SHOWING)\n\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate()\n      }\n\n      this._element.classList.add(CLASS_NAME_SHOW)\n      this._element.classList.remove(CLASS_NAME_SHOWING)\n      EventHandler.trigger(this._element, EVENT_SHOWN, { relatedTarget })\n    }\n\n    this._queueCallback(completeCallBack, this._element, true)\n  }\n\n  hide() {\n    if (!this._isShown) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE)\n\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    this._focustrap.deactivate()\n    this._element.blur()\n    this._isShown = false\n    this._element.classList.add(CLASS_NAME_HIDING)\n    this._backdrop.hide()\n\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW, CLASS_NAME_HIDING)\n      this._element.removeAttribute('aria-modal')\n      this._element.removeAttribute('role')\n\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset()\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN)\n    }\n\n    this._queueCallback(completeCallback, this._element, true)\n  }\n\n  dispose() {\n    this._backdrop.dispose()\n    this._focustrap.deactivate()\n    super.dispose()\n  }\n\n  // Private\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n        return\n      }\n\n      this.hide()\n    }\n\n    // 'static' option will be translated to true, and booleans will keep their value\n    const isVisible = Boolean(this._config.backdrop)\n\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    })\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    })\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return\n      }\n\n      if (this._config.keyboard) {\n        this.hide()\n        return\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED)\n    })\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config](this)\n    })\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  const target = SelectorEngine.getElementFromSelector(this)\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault()\n  }\n\n  if (isDisabled(this)) {\n    return\n  }\n\n  EventHandler.one(target, EVENT_HIDDEN, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus()\n    }\n  })\n\n  // avoid conflict when clicking a toggler of an offcanvas, while another is open\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR)\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide()\n  }\n\n  const data = Offcanvas.getOrCreateInstance(target)\n  data.toggle(this)\n})\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show()\n  }\n})\n\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide()\n    }\n  }\n})\n\nenableDismissTrigger(Offcanvas)\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas)\n\nexport default Offcanvas\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","EVENT_LOAD_DATA_API","ESCAPE_KEY","CLASS_NAME_SHOW","CLASS_NAME_SHOWING","CLASS_NAME_HIDING","CLASS_NAME_BACKDROP","OPEN_SELECTOR","EVENT_SHOW","EVENT_SHOWN","EVENT_HIDE","EVENT_HIDE_PREVENTED","EVENT_HIDDEN","EVENT_RESIZE","EVENT_CLICK_DATA_API","EVENT_KEYDOWN_DISMISS","SELECTOR_DATA_TOGGLE","Default","backdrop","keyboard","scroll","DefaultType","Offcanvas","_BaseComponent","element","config","_this","call","_isShown","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_addEventListeners","_inheritsLoose","_proto","prototype","toggle","relatedTarget","hide","show","_this2","showEvent","EventHandler","trigger","_element","defaultPrevented","_config","ScrollBarHelper","setAttribute","classList","add","completeCallBack","activate","remove","_queueCallback","_this3","hideEvent","deactivate","blur","completeCallback","removeAttribute","reset","dispose","_this4","clickCallback","isVisible","Boolean","Backdrop","className","isAnimated","rootElement","parentNode","FocusTrap","trapElement","_this5","on","event","key","jQueryInterface","each","data","getOrCreateInstance","undefined","startsWith","TypeError","_createClass","get","BaseComponent","document","_this6","target","SelectorEngine","getElementFromSelector","includes","tagName","preventDefault","isDisabled","one","focus","alreadyOpen","findOne","getInstance","window","_iterator","_createForOfIteratorHelperLoose","find","_step","done","selector","value","_iterator2","_step2","getComputedStyle","position","enableDismissTrigger","defineJQueryPlugin"],"mappings":"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"}