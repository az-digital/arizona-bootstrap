{"version":3,"file":"base-component.js","sources":["../src/base-component.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Data from './dom/data.js'\nimport EventHandler from './dom/event-handler.js'\nimport Config from './util/config.js'\nimport { executeAfterTransition, getElement } from './util/index.js'\n\n/**\n * Constants\n */\n\nconst VERSION = '5.3.3'\n\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super()\n\n    element = getElement(element)\n    if (!element) {\n      return\n    }\n\n    this._element = element\n    this._config = this._getConfig(config)\n\n    Data.set(this._element, this.constructor.DATA_KEY, this)\n  }\n\n  // Public\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY)\n    EventHandler.off(this._element, this.constructor.EVENT_KEY)\n\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null\n    }\n  }\n\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated)\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  // Static\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY)\n  }\n\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null)\n  }\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`\n  }\n\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`\n  }\n\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`\n  }\n}\n\nexport default BaseComponent\n"],"names":["VERSION","BaseComponent","_Config","element","config","_this","call","getElement","_assertThisInitialized","_element","_config","_getConfig","Data","set","constructor","DATA_KEY","_inheritsLoose","_proto","prototype","dispose","remove","EventHandler","off","EVENT_KEY","_iterator","_createForOfIteratorHelperLoose","Object","getOwnPropertyNames","_step","done","propertyName","value","_queueCallback","callback","isAnimated","executeAfterTransition","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","getInstance","get","getOrCreateInstance","eventName","name","_createClass","key","NAME","Config"],"mappings":"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"}